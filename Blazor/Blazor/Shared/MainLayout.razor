@inherits LayoutComponentBase
@inject NavigationManager NavigationManager

<div class="min-h-screen">
    <CascadingValue Value="this">
        @if (this.ShowNavbar)
        {
            <NavBar></NavBar>
        }
        @Body
    </CascadingValue>
</div>

@code {
    private bool _showNavbar = true;
    public bool ShowNavbar { 
        get => _showNavbar;
        set {
            _showNavbar = value;
            StateHasChanged();
        }
    }

    protected override async Task OnInitializedAsync()
    {
        // reset state on page refresh so each page can decide what to do on their own
        // NavigationManager.LocationChanged += (o, e) => this.ShowNavbar = true;
    }
}